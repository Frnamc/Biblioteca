#include <iostream>
#include <vector>
#include <string>

using namespace std;

/* ===== DECLARACIONES DE PERSONA 1 ===== */
struct Usuario;
bool cargarUsuarios(vector<Usuario>&, const string&);
bool validarLogin(const vector<Usuario>&, const string&, const string&);

/* ===== DECLARACIONES DE PERSONA 2 ===== */
void crearLibro();
void mostrarLibros();
void modificarLibro();
void eliminarLibro();

int main() {
    // ===== LOGIN =====
    vector<Usuario> usuarios;
    cargarUsuarios(usuarios, "usuarios.txt");

    string nombre, pass;
    cout << "LOGIN\nUsuario: ";
    cin >> nombre;
    cout << "Contrasena: ";
    cin >> pass;

    if (!validarLogin(usuarios, nombre, pass)) {
        cout << "Acceso denegado\n";
        return 0;
    }

    // ===== MENU CRUD LIBROS =====
    int opcion;
    do {
        cout << "\n--- MENU LIBROS ---\n";
        cout << "1. Agregar libro\n";
        cout << "2. Mostrar libros\n";
        cout << "3. Modificar libro\n";
        cout << "4. Eliminar libro\n";
        cout << "5. Salir\n";
        cout << "Opcion: ";
        cin >> opcion;

        switch (opcion) {
            case 1: crearLibro(); break;
            case 2: mostrarLibros(); break;
            case 3: modificarLibro(); break;
            case 4: eliminarLibro(); break;
        }

    } while (opcion != 5);

    return 0;
}
